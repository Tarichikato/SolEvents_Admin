[{"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\index.js":"1","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\serviceWorker.js":"2","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\App.js":"3","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\Pagination.js":"4","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\NavBar.js":"5","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\history.js":"6","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\Table.js":"7","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\Home.js":"8","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\AddAddress.js":"9","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\RenderAddresses.js":"10","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\PopupCDiploma.js":"11","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\DropDown.js":"12","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\PopupAddAddress.js":"13","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\ethereum\\SolEvents.js":"14","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\ethereum\\web3.js":"15","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\ethereum\\SolEventsABI.js":"16","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\RenderVoyages.js":"17","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\CreateVoyage.js":"18","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\PopupCreateVoyage.js":"19","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\RenderVoyagesFaits.js":"20","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\Actions.js":"21"},{"size":556,"mtime":1606935027684,"results":"22","hashOfConfig":"23"},{"size":5227,"mtime":1606827494355,"results":"24","hashOfConfig":"23"},{"size":1278,"mtime":1606949006814,"results":"25","hashOfConfig":"23"},{"size":894,"mtime":1606827494346,"results":"26","hashOfConfig":"23"},{"size":1047,"mtime":1606948752120,"results":"27","hashOfConfig":"23"},{"size":108,"mtime":1606932123586,"results":"28","hashOfConfig":"23"},{"size":889,"mtime":1606827494349,"results":"29","hashOfConfig":"23"},{"size":4506,"mtime":1606948759404,"results":"30","hashOfConfig":"23"},{"size":4868,"mtime":1606839087578,"results":"31","hashOfConfig":"23"},{"size":3015,"mtime":1606834774694,"results":"32","hashOfConfig":"23"},{"size":1056,"mtime":1606827494347,"results":"33","hashOfConfig":"23"},{"size":1534,"mtime":1606948633002,"results":"34","hashOfConfig":"23"},{"size":1115,"mtime":1606827494346,"results":"35","hashOfConfig":"23"},{"size":213,"mtime":1606956334226,"results":"36","hashOfConfig":"23"},{"size":75,"mtime":1606832620200,"results":"37","hashOfConfig":"23"},{"size":4550,"mtime":1606956313327,"results":"38","hashOfConfig":"23"},{"size":9424,"mtime":1606957603644,"results":"39","hashOfConfig":"23"},{"size":19120,"mtime":1606956943304,"results":"40","hashOfConfig":"23"},{"size":957,"mtime":1606911525201,"results":"41","hashOfConfig":"23"},{"size":8725,"mtime":1606929394355,"results":"42","hashOfConfig":"23"},{"size":4153,"mtime":1606929466247,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"oqp8ze",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"55"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"46"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"46"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"46"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"46"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"46"},"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\index.js",[],["102","103"],"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\serviceWorker.js",[],"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\App.js",["104","105","106"],"import React from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport NavBar from './assets/NavBar';\r\nimport Table from './assets/Table';\r\nimport { Home } from './components/Home';\r\nimport { Router, Switch, Route } from 'react-router-dom';\r\nimport  history  from './assets/history';\r\n\r\nimport { RenderVoyages } from './components/RenderVoyages';\r\nimport { RenderVoyagesFaits } from './components/RenderVoyagesFaits';\r\nimport { CreateVoyage } from './components/CreateVoyage';\r\n\r\nimport { AddAddress } from './components/AddAddress';\r\nimport { Actions } from './components/Actions';\r\nimport { RenderAddresses } from './components/RenderAddresses';\r\n\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div >\r\n      <Router history={history}>\r\n        <Route exact path='/' component={Home} />\r\n        <Route path ='/RenderVoyages' component={RenderVoyages} />\r\n        <Route path ='/RenderVoyagesFaits' component={RenderVoyagesFaits} />\r\n        <Route path ='/CreateVoyage' component={CreateVoyage} />\r\n        <Route path ='/AddAddress' component={AddAddress} />\r\n        <Route path ='/Actions' component={Actions} />\r\n        <Route path ='/RenderAddresses' component={RenderAddresses} />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\Pagination.js",["107","108","109","110","111"],"import React from 'react' ;\r\n\r\nfunction Pagination () {\r\nreturn (\r\n    <nav aria-label=\"Page navigation example\">\r\n    <ul className=\"pagination\">\r\n      <li className=\"page-item\">\r\n        <a className=\"page-link\" href=\"#\" aria-label=\"Previous\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n          <span className=\"sr-only\">Previous</span>\r\n        </a>\r\n      </li>\r\n      <li className=\"page-item\"><a className=\"page-link\" href=\"#\">1</a></li>\r\n      <li className=\"page-item\"><a className=\"page-link\" href=\"#\">2</a></li>\r\n      <li className=\"page-item\"><a className=\"page-link\" href=\"#\">3</a></li>\r\n      <li className=\"page-item\">\r\n        <a className=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n          <span className=\"sr-only\">Next</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n    );\r\n}\r\nexport default Pagination;",["112","113"],"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\NavBar.js",["114","115","116","117","118"],"import React from 'react';\r\nimport { Navbar, Nav, NavDropdown, Form,  FormControl, Button, InputGroup, Card} from 'react-bootstrap';\r\nimport { DropDown } from './DropDown';\r\nimport * as Icon from 'react-bootstrap-icons';\r\n\r\nfunction NavBar() { \r\n    return (\r\n      <Navbar expand=\"lg\" variant=\"dark\" bg=\"dark\">\r\n      <Navbar.Brand href=\"http://localhost:3000/\">Sol Events Admin</Navbar.Brand>\r\n      <Icon.Award y color=\"white\" size=\"25\"/>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"m-auto\">\r\n            <Nav.Link href=\"https://kryptosphere.org/\" className =\"text-white text-uppercase ml-5\">Sol Events</Nav.Link>\r\n              <Nav.Link href=\"http://localhost:3000/\" className =\"text-white text-uppercase ml-5\">\r\n              <Icon.House y color=\"white\" size=\"20\"/></Nav.Link>\r\n              <DropDown/>\r\n          </Nav>\r\n          <Form inline>\r\n          </Form>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n\r\n    );\r\n}\r\n\r\nexport default NavBar;","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\history.js",[],"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\Table.js",[],"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\Home.js",["119","120","121","122","123","124"],"import React, { Component } from 'react';\r\nimport { Navbar, Nav, NavDropdown, Form,  FormControl, Button, InputGroup, Card, ButtonGroup} from 'react-bootstrap';\r\nimport NavBar from './../assets/NavBar';\r\n\r\n\r\nexport class Home extends Component {\r\n\r\n  \r\n\r\n\r\nconstructor(props) {\r\n    super(props);\r\n\r\n    \r\n    this.onSubmitRenderVoyages = this.onSubmitRenderVoyages.bind(this);\r\n    this.onSubmitCreateVoyage = this.onSubmitCreateVoyage.bind(this);\r\n    this.onSubmitRenderVoyagesFaits = this.onSubmitRenderVoyagesFaits.bind(this);\r\n\r\n    this.onSubmitRenderOwners = this.onSubmitRenderOwners.bind(this);\r\n    this.onSubmitActions = this.onSubmitActions.bind(this);\r\n    this.onSubmitAddAddress = this.onSubmitAddAddress.bind(this);\r\n\r\n\r\n}\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"App\">\r\n      <header>\r\n       <NavBar/>\r\n      </header>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"row mt-5\">\r\n            <div className=\"col-lg-10 mb-4 grid-margin\">\r\n              <div className=\"card h-100\">\r\n                  <h4 className=\"card-header\">Choisissez une fonction</h4>\r\n                  <div className=\"card-body\">\r\n                    <p className=\"card-text\">Avec cette application, vous avez la possibilité de choisir ce que vous voulez faire. Choisissez une fonction ci-dessous. </p>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n        </div>    \r\n      </div>\r\n\r\n    <div>\r\n      <div className=\"container\">\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-lg-4 mb-4 grid-margin\">\r\n        <Card className=\"bg-dark text-white\">\r\n            <Card.Header as=\"h5\">Voyages</Card.Header>\r\n            <Card.Body>\r\n                <Card.Title>Ces fonctions concernent les voyages</Card.Title>\r\n                <Card.Text>\r\n                  Choisissez une des fonctions ci-dessous :  \r\n                </Card.Text>\r\n\r\n                <ButtonGroup vertical >\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitRenderVoyages}\r\n                    >Voir les voyages non faits\r\n                </Button>\r\n                <Button variant=\"light\" \r\n                    onClick={this.onSubmitCreateVoyage}\r\n                    >Ajouter un voyage\r\n                </Button>\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitRenderVoyagesFaits}\r\n                    >Voir les voyages passés\r\n                </Button>\r\n                </ButtonGroup>\r\n\r\n            </Card.Body>\r\n        </Card>\r\n        </div>\r\n        \r\n        <div className=\"col-lg-4 mb-4 grid-margin\">\r\n          <Card className=\"bg-dark text-white\">\r\n            <Card.Header as=\"h5\">Administration</Card.Header>\r\n            <Card.Body>\r\n                <Card.Title>Ces fonction concernent l'administratif</Card.Title>\r\n                <Card.Text>\r\n                  Choisissez une des fonctions ci-dessous :\r\n                </Card.Text>\r\n                <ButtonGroup vertical >\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitActions}\r\n                    >Actions sur les voyages\r\n                </Button>\r\n                <Button variant=\"light\" \r\n                    onClick={this.onSubmitRenderOwners}\r\n                    >Voir les adresses autorisées\r\n                </Button>\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitAddAddress}\r\n                    >Editer les adresses autorisées\r\n                </Button>\r\n                </ButtonGroup>\r\n            </Card.Body>\r\n        </Card>\r\n        \r\n        </div> \r\n       \r\n\r\n      </div>\r\n    </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n        );\r\n    }\r\n\r\n\r\nonSubmitRenderVoyages(event) {\r\n    event.preventDefault();\r\n    window.location.href = \"/RenderVoyages\"; \r\n    //this.props.history.push('/RenderVoyages')\r\n}\r\n\r\n  onSubmitCreateVoyage(event) {\r\n    event.preventDefault();\r\n    window.location.href = \"/CreateVoyage\"; \r\n    //this.props.history.push(`/CreateVoyage`)\r\n}\r\n\r\nonSubmitRenderVoyagesFaits(event) {\r\n  event.preventDefault();\r\n  window.location.href = \"/RenderVoyagesFaits\"; \r\n}\r\n\r\n\r\nonSubmitActions(event) {\r\n    event.preventDefault();\r\n    window.location.href = \"/Actions\"; \r\n}\r\n\r\nonSubmitRenderOwners(event) {\r\n  event.preventDefault();\r\n  window.location.href = \"/RenderAddresses\";\r\n}\r\n\r\nonSubmitAddAddress(event) {\r\n  event.preventDefault();\r\n  window.location.href = \"/AddAddress\";\r\n}\r\n\r\n\r\n\r\n}\r\n\r\nexport default Home;","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\AddAddress.js",["125","126","127","128","129","130","131"],"import React, { Component }  from 'react'\r\nimport { createContract } from '../ethereum/SolEvents'\r\nimport { Button, ButtonGroup, Form, Spinner, Modal, ButtonToolbar } from 'react-bootstrap';\r\n//import { web3 } from './../ethereum/web3';\r\nimport NavBar from './../assets/NavBar';\r\nimport { PopupAddAddress } from './../assets/PopupAddAddress';\r\nimport Web3 from 'web3'\r\n\r\n\r\n\r\n\r\nexport class AddAddress extends Component {\r\n\r\n  \r\n\r\n    state = {\r\n            address: '',\r\n            name: '' ,\r\n            contract: '',\r\n            account:''\r\n    }\r\n\r\n  async componentDidMount () {\r\n\r\n    window.ethereum.enable();\r\n    const web3 = new Web3(Web3.givenProvider)\r\n    const contract = createContract()\r\n    console.log(web3)\r\n    const accounts = await web3.eth.getAccounts()\r\n    this.setState({ account: accounts[0] })\r\n    console.log(accounts)\r\n    console.log(this.state.account)\r\n    this.setState({ contract })\r\n    console.log(contract)\r\n  }\r\n  \r\n  \r\n\r\nconstructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      account:'',\r\n      lv: 0,\r\n      address: '',\r\n      name: '',\r\n      contract: '',\r\n    }\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n}\r\n\r\n\r\nasync addOwner(address, name) {\r\n  if(await this.state.contract.methods.isOwner(this.state.account).call() == true){\r\n    this.state.contract.methods.setOwner(address,name).send({ from: this.state.account })\r\n  }\r\n  else{\r\n    //TODO Remplacer par une pop up\r\n    console.log(\"T'as pas les droits \")\r\n  }\r\n}\r\n\r\nasync dlOwner(address, name) {\r\n  if(await this.state.contract.methods.isOwner(this.state.account).call() == true){\r\n    this.state.contract.methods.deleteOwner(address).send({ from: this.state.account })\r\n  }\r\n  else{\r\n    //TODO Remplacer par une pop up\r\n    console.log(\"T'as pas les droits \")\r\n  }\r\n}\r\n\r\n\r\n    onChange(event) {\r\n    \r\n    const target = event.target;\r\n    const value =  target.value;\r\n    const name = target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n    console.log(name,value,this.state)  \r\n}\r\n\r\n\r\n    onSubmit(event) {\r\n      console.log(event)\r\n      const value = event.target.value;\r\n      event.preventDefault();\r\n      if(value == \"add\"){\r\n        console.log(value,'add')\r\n        this.addOwner(this.state.address,this.state.name)\r\n      }\r\n      if(value == \"dl\"){\r\n        console.log(value,'dl')\r\n        this.dlOwner(this.state.address)\r\n      }\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n            <NavBar/>\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <div className=\"row mt-5 text-center center\">\r\n            <div className=\"col-lg-10 mb-4 grid-margin\">\r\n              <div className=\"card h-100\">\r\n                  <h4 className=\"card-header\">Add Address</h4>\r\n                  <div className=\"card-body\">\r\n                    <p className=\"card-text\">Autorisation:  </p>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n        </div>    \r\n      </div>\r\n\r\n\r\n        <Form>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Label>Address</Form.Label>\r\n                <Form.Control \r\n                    placeholder='Adresse'\r\n                    name=\"address\"\r\n                    type=\"text\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Label>name</Form.Label>\r\n                <Form.Control \r\n                    placeholder= \"Nom de l'adresse\"\r\n                    name=\"name\"\r\n                    type=\"text\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n\r\n        </Form>\r\n      \r\n        <div>\r\n        \r\n      <ButtonToolbar>\r\n        <Button value=\"add\" variant=\"primary\" \r\n          onClick={this.onSubmit}\r\n          >Add Address\r\n        </Button>\r\n        <Button value=\"dl\" variant=\"danger\" \r\n          onClick={this.onSubmit}\r\n          >Delete Address\r\n        </Button>\r\n\r\n       \r\n      </ButtonToolbar> \r\n\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <div className=\"row mt-5\">\r\n            <div className=\"col-lg-4 mb-4 grid-margin\">\r\n          <ButtonGroup size=\"lg\" >\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitBack}\r\n                    >Back\r\n                </Button>\r\n                <Button variant=\"light\" \r\n                    onClick={this.onSubmitReload}\r\n                    >Refresh\r\n                </Button>\r\n          </ButtonGroup>\r\n        </div>\r\n      </div>\r\n    </div> \r\n            \r\n      </div>\r\n    );\r\n  }\r\n\r\n  onSubmitBack(event) {\r\n    event.preventDefault();\r\n    window.history.back()\r\n    }\r\n\r\n  onSubmitReload(event) {\r\n    event.preventDefault();\r\n    window.location.reload()\r\n    }\r\n}\r\n\r\nexport default AddAddress;","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\RenderAddresses.js",["132"],"import React, { Component }  from 'react'\r\nimport { createContract } from '../ethereum/SolEvents'\r\nimport { ButtonGroup, Button } from 'react-bootstrap';\r\nimport { web3 } from './../ethereum/web3';\r\nimport NavBar from './../assets/NavBar';\r\n\r\n\r\n\r\n\r\nexport class RenderAddresses extends Component {\r\n\r\n  state = {\r\n    owners: [],\r\n\r\n}\r\nasync componentDidMount () {\r\nawait this.getOwners(this.getDiplomaStorageAddress()\r\n)\r\n}\r\n\r\ngetDiplomaStorageAddress () {\r\nreturn this.props.match.params.address\r\n}\r\n\r\nasync getOwners() {\r\nconst contract = createContract()\r\nconst accounts = await web3.eth.getAccounts()\r\nthis.setState({ account: accounts[0] })\r\n\r\nthis.setState({ contract })\r\nconst ownersCount = await contract.methods.ownersCount().call()\r\nthis.setState({ownersCount})\r\n\r\nfor (var i = 1; i <= ownersCount; i++) {\r\n    const owner = await contract.methods.owners(i).call()\r\n    if(owner[2] == true){\r\n      this.setState({\r\n        owners: [...this.state.owners, [owner[0],owner[1]]]\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\r\nconstructor(props) {\r\nsuper(props)\r\nthis.state = {\r\n  account:'',\r\n  ownersCount: 0,\r\n  owners: [],\r\n}\r\n}\r\n\r\n\r\n\r\nrender() {\r\nreturn (\r\n  <div>\r\n      <header>\r\n          <NavBar/>\r\n      </header>\r\n\r\n      <div className=\"container\">\r\n       <div className=\"row mt-5 text-center\">\r\n        <div className=\"col-lg-10 mb-4 grid-margin\">\r\n          <div className=\"card h-100\">\r\n              <h4 className=\"card-header\">Les adresses des gérants du contrat</h4>\r\n              <div className=\"card-body\">\r\n                <p className=\"card-text\">Voici la liste des adresses autorisées à enregistrer des voyages </p>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>    \r\n  </div>\r\n      \r\n        \r\n  <div>\r\n <table className=\"table\">\r\n  <thead className=\"thead-dark\">\r\n<tr>\r\n  <th scope=\"col\">Addresse</th>\r\n  <th scope=\"col\">Tag</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr>\r\n<th scope=\"row\">\r\n      { this.state.owners.map((owner, key) => {\r\n        return(\r\n          \r\n          <div key={key}>\r\n            <td>\r\n              {owner[0]}\r\n            </td>\r\n          </div>\r\n          \r\n         )\r\n      })}\r\n  </th>\r\n\r\n<td>\r\n  { this.state.owners.map((owner, key) => {\r\n        return(\r\n          \r\n          <div key={key}>\r\n            <td>\r\n              {owner[1]}\r\n            </td>\r\n          </div> \r\n          \r\n             )\r\n    })}\r\n</td> \r\n</tr>\r\n</tbody>\r\n</table>\r\n\r\n\r\n<div className=\"container\">\r\n      <ButtonGroup size=\"lg\" >\r\n            <Button variant=\"primary\" \r\n                onClick={this.onSubmitBack}\r\n                >Back\r\n            </Button>\r\n            <Button variant=\"light\" \r\n                onClick={this.onSubmitReload}\r\n                >Refresh\r\n            </Button>\r\n      </ButtonGroup>\r\n</div> \r\n              \r\n</div>  \r\n  \r\n</div>\r\n);\r\n}\r\n\r\nonSubmitBack(event) {\r\nevent.preventDefault();\r\nwindow.history.back()\r\n}\r\n\r\nonSubmitReload(event) {\r\nevent.preventDefault();\r\nwindow.location.reload()\r\n}\r\n}\r\n\r\nexport default RenderAddresses;","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\PopupCDiploma.js",["133"],"import React, { Component } from 'react' ;\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nexport class PopupCDiploma extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\nrender () {\r\n    return (\r\n\r\n        <Modal\r\n      {...this.props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Check Diploma\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className='container'>\r\n          Result: {this.props.diplomaResult}\r\n        </div>\r\n        <div className='container'>\r\n          Student: {this.props.students}\r\n        </div>\r\n        \r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"primary\" onClick={this.props.onHide}>Close</Button>\r\n        <Button variant=\"primary\" onClick={this.props.onSubmit}>Check Diploma</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n\r\n    );\r\n}\r\n   \r\n}\r\n  \r\n export default PopupCDiploma;","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\DropDown.js",["134"],"import React, { Component } from \"react\";\r\nimport { NavDropdown } from \"react-bootstrap\";\r\nimport { Home } from \"./../components/Home\";\r\n\r\nexport class DropDown extends Component {\r\n  render() {\r\n    return (\r\n      <NavDropdown\r\n        title=\"Functions\"\r\n        id=\"basic-nav-dropdown\"\r\n        className=\"text-white text-uppercase ml-5\"\r\n      >\r\n        {/* Je n'arrive pas à quand on clique dans le menu déroulant Function, \r\n            puis sur RenderStudents à renvoyer la bonne URL sans faire comme ça, \r\n            j'aimerai que ça récupère automatiquement\r\n            l'addresse du contrat rentré sur Home */}\r\n        \r\n        <NavDropdown.Item href=\"http://localhost:3000/RenderVoyages\">\r\n          Voir les voyages non faits\r\n        </NavDropdown.Item>\r\n        <NavDropdown.Item href=\"http://localhost:3000/CreateVoyage\">\r\n          Ajouter un voyage\r\n        </NavDropdown.Item>\r\n        <NavDropdown.Item href=\"http://localhost:3000/RenderVoyagesFaits\">\r\n          Voir les voyages passés\r\n        </NavDropdown.Item>\r\n        <NavDropdown.Item href=\"http://localhost:3000/Actions\">\r\n        Actions sur les voyages\r\n        </NavDropdown.Item>\r\n        <NavDropdown.Item href=\"http://localhost:3000/RenderAddresses\">\r\n        Voir les addresses autorisées\r\n        </NavDropdown.Item>\r\n        <NavDropdown.Item href=\"http://localhost:3000/AddAddress\">\r\n        Editer les addresses autorisées\r\n        </NavDropdown.Item>\r\n        \r\n      </NavDropdown>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DropDown;\r\n","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\PopupAddAddress.js",["135"],"import React, { Component } from 'react' ;\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nexport class PopupAddAddress extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\nrender () {\r\n    return (\r\n\r\n        <Modal\r\n      {...this.props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Create Degree\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n      <div className='container'>\r\n        Address: {this.props.address}\r\n      </div>\r\n      <div className='container'>\r\n        Level: {this.props.lv}\r\n      </div>\r\n      <div className='container'>\r\n        School: {this.props.schoolName}\r\n      </div>\r\n      \r\n    </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"primary\" onClick={this.props.onSubmit}>Save</Button>\r\n        <Button variant=\"primary\" onClick={this.props.onHide}>Cancel</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n\r\n    );\r\n}\r\n   \r\n}\r\n  \r\n export default PopupAddAddress;\r\n","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\ethereum\\SolEvents.js",[],"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\ethereum\\web3.js",[],"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\ethereum\\SolEventsABI.js",[],"C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\RenderVoyages.js",["136","137","138","139","140","141","142","143","144","145","146"],"import React, { Component }  from 'react'\r\nimport { createContract } from '../ethereum/SolEvents'\r\nimport { ButtonGroup, Button } from 'react-bootstrap';\r\nimport { web3 } from '../ethereum/web3';\r\nimport NavBar from '../assets/NavBar';\r\n\r\nexport class RenderVoyages extends Component {\r\n\r\n    state = {\r\n        diplomas: [],\r\n        contract:''\r\n    }\r\n  async componentDidMount () {\r\n    console.log('RV')\r\n    await this.getVoyages()\r\n  }\r\n  async getVoyages() {\r\n    const contract = createContract()\r\n    const accounts = await web3.eth.getAccounts()\r\n    this.setState({ account: accounts[0] }) \r\n    this.setState({ contract })\r\n    const voyagesCount = await contract.methods.voyagesCount().call()\r\n    this.setState({voyagesCount})\r\n\r\n    for (var i = 1; i <= voyagesCount; i++) {\r\n        var voyage = await contract.methods.voyages(i).call()\r\n        var client = await contract.methods.tokens(i).call()\r\n        voyage.nomClient = client.nom\r\n        voyage.prenomClient = client.prenom\r\n        voyage.idClient = client.id\r\n        if(voyage.envies2%41 == 0){\r\n          console.log(\"Le debut de la fin\")\r\n        }\r\n        else{\r\n          console.log(\"Et ca aussi\")\r\n        }\r\n        if(voyage.valid == true && voyage.fait == false){\r\n          voyage = this.translate(voyage)\r\n            this.setState({\r\n              voyages: [...this.state.voyages, voyage]\r\n            })\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n  translate(voyage) {\r\n    //Dates\r\n    const debut = voyage.debutSejour.toString().split('')\r\n    const fin = voyage.finSejour.toString().split('')\r\n    if(debut.length == 8){\r\n      voyage.debutSejour = debut[6].concat(debut[7],'/',debut[4],debut[5],'/',debut[0],debut[1], debut[2],debut[3])\r\n    }\r\n    if(fin.length == 8){\r\n      voyage.finSejour = fin[6].concat(fin[7],'/',fin[4],fin[5],'/',fin[0],fin[1], fin[2],fin[3])\r\n    }\r\n\r\n    //Participants\r\n    var nb = voyage.Participants.toString().split('')\r\n    var l = nb.length\r\n    for (var i = 1; i <= 9 - l; i++) {\r\n      nb = [0].concat(nb)\r\n    }\r\n    voyage.nba = parseInt(nb[6] + nb[7] + nb[8])\r\n    voyage.nbe = parseInt(nb[3] + nb[4] + nb[5])\r\n    voyage.nbb = parseInt(nb[0] + nb[1] + nb[2])\r\n\r\n    //Test Covid\r\n    if(voyage.testCovid == false){\r\n      voyage.testCovid = \"positif\"\r\n    }\r\n    else if(voyage.testCovid == true){\r\n      voyage.testCovid = \"negatif\"\r\n    }\r\n    else{\r\n      voyage.testCovid = \"Non renseigné\"\r\n    }\r\n\r\n    //Accompagnement\r\n    if(voyage.accompagnement == false){\r\n      voyage.accompagnement = \"Non\"\r\n    }\r\n    else if(voyage.accompagnement == true){\r\n      voyage.accompagnement = \"Oui\"\r\n    }\r\n    else{\r\n      voyage.accompagnement = \"Non renseigné\"\r\n    }\r\n\r\n    //fait\r\n    //Accompagnement\r\n    if(voyage.fait == false){\r\n      voyage.fait = \"Non\"\r\n    }\r\n    else if(voyage.fait == true){\r\n      voyage.fait = \"Oui\"\r\n    }\r\n    else{\r\n      voyage.fait = \"Non renseigné\"\r\n    }\r\n\r\n    return(voyage)\r\n  }\r\n\r\n    \r\n\r\nconstructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      account:'',\r\n      voyagesCount: 0,\r\n      voyages: [],\r\n    }\r\n}\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n          <header>\r\n              <NavBar/>\r\n          </header>\r\n\r\n          <div className=\"container\">\r\n           <div className=\"row mt-5 text-center\">\r\n            <div className=\"col-lg-10 mb-4 grid-margin\">\r\n              <div className=\"card h-100\">\r\n                  <h4 className=\"card-header\">All the Diplomas are here below</h4>\r\n                  <div className=\"card-body\">\r\n                    <p className=\"card-text\">Voici la liste des diplomes enregistrés sur la blockchain. </p>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n        </div>    \r\n      </div>\r\n          \r\n            \r\n      <div>\r\n     <table className=\"table\">\r\n      <thead className=\"thead-dark\">\r\n        \r\n    <tr>\r\n    <th scope=\"col\">id</th>\r\n    <th scope=\"col\">Nom</th>\r\n    <th scope=\"col\">Prenom</th>\r\n    <th scope=\"col\">debutSejour</th>\r\n    <th scope=\"col\">finSejour</th>\r\n    <th scope=\"col\">Adultes</th>\r\n    <th scope=\"col\">Enfants</th>\r\n    <th scope=\"col\">Bébés</th>\r\n    <th scope=\"col\">pays</th>\r\n    <th scope=\"col\">ville</th>\r\n    <th scope=\"col\">hebergementType</th>\r\n    <th scope=\"col\">accompagnement</th>\r\n    <th scope=\"col\">envies</th>\r\n    <th scope=\"col\">editeur</th>\r\n    <th scope=\"col\">testCovid</th>\r\n\r\n    </tr>\r\n\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n    <th scope=\"row\">\r\n          { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              \r\n              <div key={key}>\r\n                <td>\r\n                  {key + 1}\r\n                </td>\r\n              </div>\r\n              \r\n             )\r\n          })}\r\n      </th>\r\n      <th scope=\"row\">\r\n          { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              \r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.nomClient}\r\n                </td>\r\n              </div>\r\n              \r\n             )\r\n          })}\r\n      </th>\r\n      <th scope=\"row\">\r\n          { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              \r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.prenomClient}\r\n                </td>\r\n              </div>\r\n              \r\n             )\r\n          })}\r\n      </th>\r\n    <th scope=\"row\">\r\n          { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              \r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.debutSejour}\r\n                </td>\r\n              </div>\r\n              \r\n             )\r\n          })}\r\n      </th>\r\n\r\n    <td>\r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              \r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.finSejour}\r\n                </td>\r\n              </div> \r\n              \r\n                 )\r\n        })}\r\n    </td> \r\n\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.nba}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.nbe}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.nbb}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.pays}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.ville}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.hebergementType}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.accompagnement}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.envies}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.editor}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.testCovid}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>   \r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n\r\n    <div className=\"container\">\r\n          <ButtonGroup size=\"lg\" >\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitBack}\r\n                    >Back\r\n                </Button>\r\n                <Button variant=\"light\" \r\n                    onClick={this.onSubmitReload}\r\n                    >Refresh\r\n                </Button>\r\n          </ButtonGroup>\r\n    </div> \r\n                  \r\n  </div>  \r\n      \r\n</div>\r\n    );\r\n  }\r\n\r\n  onSubmitBack(event) {\r\n    event.preventDefault();\r\n    window.history.back()\r\n}\r\n\r\nonSubmitReload(event) {\r\n    event.preventDefault();\r\n    window.location.reload()\r\n}\r\n}\r\n\r\nexport default RenderVoyages;","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\CreateVoyage.js",["147","148","149","150"],"import React, { Component }  from 'react'\r\nimport { createContract } from '../ethereum/SolEvents'\r\nimport { Button, ButtonGroup, Form, ButtonToolbar } from 'react-bootstrap';\r\n//import { web3 } from './../ethereum/web3';\r\nimport NavBar from './../assets/NavBar';\r\nimport { PopupCreateVoyage } from './../assets/PopupCreateVoyage';\r\nimport Web3 from 'web3'\r\n\r\nexport class CreateVoyage extends Component {\r\n\r\n  \r\n\r\n    state = {\r\n            address: '',\r\n            contract: '',\r\n            account:''\r\n    }\r\n\r\n  async componentDidMount () {\r\n\r\n    window.ethereum.enable();\r\n    const web3 = new Web3(Web3.givenProvider)\r\n    const contract = createContract()\r\n    console.log(web3)\r\n    const accounts = await web3.eth.getAccounts()\r\n    this.setState({ account: accounts[0] })\r\n    console.log(accounts)\r\n    console.log(this.state.account)\r\n    this.setState({ contract })\r\n    console.log(contract)\r\n  }\r\n  \r\n  \r\n\r\nconstructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      account:'',\r\n      contract: '',\r\n      debutsejour:0,\r\n      finsejour:0,\r\n      pays:'',\r\n      ville:'',\r\n      idClient:0,\r\n      nomClient:'',\r\n      prenomClient:'',\r\n      testCovid:true,\r\n      nbadultes:0,\r\n      nbenfants:0,\r\n      nbbebes:0,\r\n      famille:false,\r\n      couple:false,\r\n      amis:false,\r\n      groupe:false,\r\n      voldirecteco:false,\r\n      voldirectaffaire:false,\r\n      volmoimeme:false,\r\n      volmoinscher:false,\r\n      bpc:false,\r\n      cc:false,\r\n      luxe:false,\r\n      pension:false,\r\n      navettepublique:false,\r\n      taxicollectif:false,\r\n      locvoiture:false,\r\n      busferry:false,\r\n      accompagnement:false,\r\n      hebergementType:'',\r\n      musees:false,\r\n      temples:false,\r\n      sites:false,\r\n      jardins:false,\r\n      parcs:false,\r\n      artisanat:false,\r\n      architectureU:false,\r\n      artC:false,\r\n      campagne:false,\r\n      randonnee:false,\r\n      pelrinage:false,\r\n      velo:false,\r\n      foot:false,\r\n      plongee:false,\r\n\r\n      participants:0,\r\n      envies:0,\r\n      \r\n    }\r\n    this.onChangeCB = this.onChangeCB.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    \r\n}\r\ncomputeEnvies(){\r\n  var envies = 1\r\n  var envies2 = 1\r\n  if(\"famille\" === this.state.avecqui){\r\n    envies = envies * 2\r\n  }\r\n  if(\"couple\" === this.state.avecqui){\r\n    envies = envies * 3\r\n  }\r\n  if(\"amis\" === this.state.avecqui){\r\n    envies = envies * 5\r\n  }\r\n  if(\"groupe\" === this.state.avecqui){\r\n    envies = envies * 7\r\n  }\r\n  if(\"direct_eco\" === this.state.vol){\r\n    envies = envies * 11\r\n  }\r\n  if(\"direct_affaire\" ===this.state.vol){\r\n    envies = envies * 13\r\n  }\r\n  if(\"moi_meme\" === this.state.vol){\r\n    envies = envies * 17\r\n  }\r\n  if(\"moins_cher\" === this.state.vol){\r\n    envies = envies * 19\r\n  }\r\n  if(\"bpc\" === this.state.confort){\r\n    envies = envies * 23\r\n  }\r\n  if(\"cc\" === this.state.confort){\r\n    envies = envies * 29\r\n  }\r\n  if(\"luxe\" === this.state.confort){\r\n    envies = envies * 31\r\n  }\r\n  if(\"indiférent\" === this.state.pensions){\r\n    envies = envies * 37\r\n  }\r\n  if(\"sans_repas\" ===this.state.pensions){\r\n    envies = envies * 41\r\n  }\r\n  if(\"petit_dej\" === this.state.pensions){\r\n    envies = envies * 43\r\n  }\r\n  if(\"demi_pension\" === this.state.pensions){\r\n    envies = envies * 47\r\n  }\r\n  if(this.state.T1 === true){\r\n    envies = envies * 53\r\n  }\r\n  if(this.state.T2 === true){\r\n    envies = envies * 59\r\n  }\r\n  if(this.state.T3 === true){\r\n    envies = envies * 61\r\n  }\r\n  if(this.state.T4 === true){\r\n    envies = envies * 67\r\n  }\r\n  if(this.state.A1 === true){\r\n    envies = envies * 71\r\n  }\r\n  if(this.state.A2 === true){\r\n    envies2 = envies2 * 3\r\n  }\r\n  if(this.state.A3 === true){\r\n    envies2 = envies2 * 5\r\n  }\r\n  if(this.state.A4 === true){\r\n    envies2 = envies2 * 7\r\n  }\r\n  if(this.state.A5 === true){\r\n    envies2 = envies2 * 11\r\n  }\r\n  if(this.state.A6 === true){\r\n    envies2 = envies2 * 13\r\n  }\r\n  if(this.state.A7 === true){\r\n    envies2 = envies2 * 17\r\n  }\r\n  if(this.state.A8 === true){\r\n    envies2 = envies2 * 19\r\n  }\r\n  if(this.state.A9 === true){\r\n    envies2 = envies2 * 23\r\n  }\r\n  if(this.state.A10 === true){\r\n    envies2 = envies2 * 29\r\n  }\r\n  if(this.state.A11 === true){\r\n    envies2 = envies2 * 31\r\n  }\r\n  if(this.state.A12 === true){\r\n    envies2 = envies2 * 37\r\n  }\r\n  if(this.state.A13 === true){\r\n    envies2 = envies2 * 41\r\n  }\r\n  if(this.state.A14 === true){\r\n    envies2 = envies2 * 2\r\n  }\r\n\r\n\r\n  console.log(\"envies\",envies)\r\n  return([envies,envies2])\r\n}\r\n  \r\n\r\n\r\nasync createVoyage1(debutsejour,finSejour,pays,ville,hebergementType,accompagnement,idClient,nomClient,prenomClient,testCovid) {\r\n  //TODO calcul de envie\r\n  var envies = this.computeEnvies()\r\n  console.log(envies)\r\n  //TODO calcul de participants\r\n  var participants = parseInt(this.state.nbadultes) + 1000 * parseInt(this.state.nbenfants) + 1000000*parseInt(this.state.nbbebes)\r\n  console.log('participants',participants)\r\n  this.createVoyage(debutsejour,finSejour,participants,pays,ville,hebergementType,accompagnement,envies[0],envies[1],idClient,nomClient,prenomClient,testCovid)\r\n}\r\n\r\n\r\nasync createVoyage(debutsejour,finSejour,participants,pays,ville,hebergementType,accompagnement,envies,envies2,idClient,nomClient,prenomClient,testCovid) {\r\n  if(await this.state.contract.methods.isOwner(this.state.account).call() == true){\r\n    prenomClient = this.state.prenomClient\r\n    nomClient = this.state.nomClient\r\n    this.state.contract.methods.createVoyage(debutsejour,finSejour,participants,pays,ville,hebergementType,accompagnement,envies,envies2,idClient,nomClient,prenomClient,testCovid).send({ from: this.state.account })\r\n  }\r\n  else{\r\n    //TODO Remplacer par une pop up\r\n    console.log(\"T'as pas les droits \")\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n    onChange(event) {\r\n    \r\n    const target = event.target;\r\n    var value =  target.value;\r\n    const name = target.name;\r\n    if(name == \"finsejour\" || name == \"debutsejour\"){\r\n      value = value.replace('-','')\r\n      value = value.replace('-','')\r\n      value = parseInt(value)\r\n      console.log(value)\r\n    }\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n    console.log(this.state)  \r\n}\r\n\r\nonChangeCB(event) {\r\n  console.log('onChangeCB')\r\n  const target = event.target;\r\n  var value =  target.value;\r\n  const name = target.name;\r\n  console.log(\"name\",name)\r\n  this.setState({[name]: !this.state.[name]})\r\n  console.log(this.state)  \r\n}\r\n\r\n\r\n    onSubmit(event) {\r\n      event.preventDefault();\r\n      this.setState({ModalShow:false})\r\n      console.log('submited',this.state)\r\n      console.log(this.state.prenomClient,this.state.nomClient,'STATE')\r\n      this.createVoyage1(\r\n        this.state.debutsejour,\r\n        this.state.finsejour,\r\n        this.state.pays,\r\n        this.state.ville,\r\n        this.state.hebergementType,\r\n        this.state.accompagnement,\r\n        this.state.envies,\r\n        this.state.idClient,\r\n        this.state.nomClient,\r\n        this.state.prenomClient,\r\n        this.state.testCovid)\r\n  }\r\n\r\n\r\n  render() {\r\n    let ModalClose =() => this.setState({ModalShow:false})\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n            <NavBar/>\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <div className=\"row mt-5 text-center center\">\r\n            <div className=\"col-lg-10 mb-4 grid-margin\">\r\n              <div className=\"card h-100\">\r\n                  <h4 className=\"card-header\">Create Voyage</h4>\r\n                  <div className=\"card-body\">\r\n                    <p className=\"card-text\">Creer des voyages  </p>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n        </div>    \r\n      </div>\r\n\r\n\r\n        <Form>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Label>Debut du séjour</Form.Label>\r\n                <Form.Control \r\n                    placeholder='Debut du séjour'\r\n                    name=\"debutsejour\"\r\n                    type=\"date\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Label>Fin du séjour</Form.Label>\r\n                <Form.Control \r\n                    placeholder='Fin du séjour'\r\n                    name=\"finsejour\"\r\n                    type=\"date\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Label>Nombre d'adultes</Form.Label>\r\n                <Form.Control \r\n                    placeholder= \"Nombre d'adultes\"\r\n                    name=\"nbadultes\"\r\n                    type=\"number\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Label>Nombre d'enfants</Form.Label>\r\n                <Form.Control \r\n                    placeholder= \"Nombre d'enfants\"\r\n                    name=\"nbenfants\"\r\n                    type=\"number\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Label>Nombre de bébés</Form.Label>\r\n                <Form.Control \r\n                    placeholder= \"Nombre de bébés\"\r\n                    name=\"nbbebes\"\r\n                    type=\"number\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Pays de destinaton</Form.Label>\r\n            <Form.Control \r\n                    placeholder= \"Pays de destination\"\r\n                    name=\"pays\"\r\n                    type=\"text\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Ville de destination</Form.Label>\r\n            <Form.Control \r\n                    placeholder= \"Ville de destination\"\r\n                    name=\"ville\"\r\n                    type=\"text\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Comment voyagez vous ?</Form.Label>\r\n            <Form.Control as=\"select\" onChange={this.onChange} name=\"avecqui\">\r\n            <option>...</option>\r\n               <option value =\"famille\">En famille</option>\r\n               <option value =\"couple\">En couple</option>\r\n               <option value =\"amis\">Entre amis</option>\r\n               <option value =\"groupe\">En groupe</option>\r\n            </Form.Control>\r\n\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            \r\n            <Form.Label>Vol</Form.Label>\r\n            <Form.Control as=\"select\" onChange={this.onChange} name=\"vol\">\r\n            <option >...</option>\r\n               <option value =\"direct_eco\">Vol direct en classe economique</option>\r\n               <option value =\"direct_affaire\">Vol direct en classe affaire</option>\r\n               <option value =\"moi_meme\">Je réserve moi même mon vol</option>\r\n               <option value =\"moins_cher\">Le vol le moins cher possible </option>\r\n            </Form.Control>\r\n\r\n            </Form.Group>\r\n\r\n\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            \r\n\r\n            \r\n            <Form.Label>Niveau de confort</Form.Label>\r\n            <Form.Control as=\"select\" onChange={this.onChange} name=\"confort\">\r\n            <option >...</option>\r\n               <option value =\"bpc\">Bien pas cher</option>\r\n               <option value =\"cc\">Charme et confort</option>\r\n               <option value =\"luxe\">Luxe</option>\r\n            </Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Quel type d'hebergement ?</Form.Label>\r\n            <Form.Control \r\n                    placeholder= \"Type d'hebergement\"\r\n                    name=\"hebergementType\"\r\n                    type=\"text\"\r\n                    onChange={this.onChange} />\r\n\r\n            </Form.Group>\r\n            \r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Pension</Form.Label>\r\n            <Form.Control as=\"select\" onChange={this.onChange} name=\"pensions\">\r\n            <option >...</option>\r\n               <option value =\"indiférent\">Indifférent</option>\r\n               <option value =\"sans_repas\">Sans repas dans les hotels</option>\r\n               <option value =\"petit_dej\">Petit dejeuner dans les hôtels</option>\r\n               <option value =\"demi_pension\">Demi Pension</option>\r\n            </Form.Control>\r\n            </Form.Group>\r\n\r\n           \r\n\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Accompagné ?</Form.Label>\r\n            <Form.Control \r\n                    name=\"accompagnement\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Transport aeroport (navette publique)</Form.Label>\r\n            <Form.Control \r\n                    name=\"T1\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n            \r\n            <Form.Label>Transport aeroport (taxicollectif)</Form.Label>\r\n            <Form.Control \r\n                    name=\"T2\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n            <Form.Label>Location de voiture</Form.Label>\r\n            <Form.Control \r\n                    name=\"T3\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n            \r\n            <Form.Label>Bus,ferry..</Form.Label>\r\n            <Form.Control \r\n                    name=\"T4\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Musee</Form.Label>\r\n            <Form.Control \r\n                    name=\"A1\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n            <Form.Label>Temple</Form.Label>\r\n            <Form.Control \r\n                    name=\"A2\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Sites historiques</Form.Label>\r\n            <Form.Control \r\n                    name=\"A3\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n            \r\n            <Form.Label>Jardins</Form.Label>\r\n            <Form.Control \r\n                    name=\"A4\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Parcs</Form.Label>\r\n            <Form.Control \r\n                    name=\"A5\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Artisanat</Form.Label>\r\n            <Form.Control \r\n                    name=\"A6\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Architecture Urbaine</Form.Label>\r\n            <Form.Control \r\n                    name=\"A7\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Art contemporain</Form.Label>\r\n            <Form.Control \r\n                    name=\"A8\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n            \r\n            <Form.Label>Campagne</Form.Label>\r\n            <Form.Control \r\n                    name=\"A9\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Randonnée</Form.Label>\r\n            <Form.Control \r\n                    name=\"A10\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Pelrinage</Form.Label>\r\n            <Form.Control \r\n                    name=\"A11\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Vélo</Form.Label>\r\n            <Form.Control \r\n                    name=\"A12\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            <Form.Label>Football</Form.Label>\r\n            <Form.Control \r\n                    name=\"A13\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n            \r\n            <Form.Label>Plongée</Form.Label>\r\n            <Form.Control \r\n                    name=\"A14\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChangeCB} />\r\n\r\n            </Form.Group>\r\n\r\n            \r\n\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Infos sur le client</Form.Label>\r\n            <Form.Control \r\n                    placeholder= \"Numéro de client\"\r\n                    name=\"clientId\"\r\n                    type=\"num\"\r\n                    onChange={this.onChange} />\r\n            <Form.Control \r\n                    placeholder= \"Nom du client\"\r\n                    name=\"nomClient\"\r\n                    type=\"text\"\r\n                    onChange={this.onChange} />\r\n            <Form.Control \r\n                    placeholder= \"Prenom du client\"\r\n                    name=\"prenomClient\"\r\n                    type=\"text\"\r\n                    onChange={this.onChange} />\r\n            \r\n            </Form.Group>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n            <Form.Label>Test Covid négatif</Form.Label>\r\n            \r\n            <Form.Control \r\n                    name=\"testCovid\"\r\n                    type=\"checkbox\"\r\n                    onChange={this.onChange} />\r\n\r\n            </Form.Group>\r\n            \r\n            \r\n            \r\n            \r\n\r\n        </Form>\r\n      \r\n        <div>\r\n        \r\n      <ButtonToolbar>\r\n        <Button value=\"add\" variant=\"primary\" \r\n          onClick={() => this.setState({ModalShow: true})}\r\n          >Creer voyage\r\n          </Button>\r\n        <PopupCreateVoyage\r\n          show={this.state.ModalShow}\r\n          onHide={ModalClose}\r\n          onSubmit={this.onSubmit}\r\n        />\r\n      </ButtonToolbar> \r\n\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <div className=\"row mt-5\">\r\n            <div className=\"col-lg-4 mb-4 grid-margin\">\r\n          <ButtonGroup size=\"lg\" >\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitBack}\r\n                    >Back\r\n                </Button>\r\n                <Button variant=\"light\" \r\n                    onClick={this.onSubmitReload}\r\n                    >Refresh\r\n                </Button>\r\n          </ButtonGroup>\r\n        </div>\r\n      </div>\r\n    </div> \r\n            \r\n      </div>\r\n    );\r\n  }\r\n\r\n  onSubmitBack(event) {\r\n    event.preventDefault();\r\n    window.history.back()\r\n    }\r\n\r\n  onSubmitReload(event) {\r\n    event.preventDefault();\r\n    window.location.reload()\r\n    }\r\n}\r\n\r\nexport default CreateVoyage;","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\assets\\PopupCreateVoyage.js",["151"],"import React, { Component } from 'react' ;\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nexport class PopupCreateVoyage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\nrender () {\r\n    return (\r\n\r\n        <Modal\r\n      {...this.props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Creer un Voyage\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <p className='container'>\r\n            Etes vous sûr de vouloir creer un voyage ?\r\n        </p>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"success\" onClick={this.props.onSubmit}>Yes</Button>\r\n        <Button variant=\"danger\" onClick={this.props.onHide}>No,close</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n\r\n    );\r\n}\r\n\r\n}\r\n\r\n export default PopupCreateVoyage;\r\n","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\RenderVoyagesFaits.js",["152","153","154","155","156","157","158","159","160","161"],"import React, { Component }  from 'react'\r\nimport { createContract } from '../ethereum/SolEvents'\r\nimport { ButtonGroup, Button } from 'react-bootstrap';\r\nimport { web3 } from '../ethereum/web3';\r\nimport NavBar from '../assets/NavBar';\r\n\r\nexport class RenderVoyagesFaits extends Component {\r\n\r\n    state = {\r\n        diplomas: [],\r\n        contract:''\r\n    }\r\n  async componentDidMount () {\r\n    await this.getVoyages()\r\n  }\r\n  async getVoyages() {\r\n    const contract = createContract()\r\n    const accounts = await web3.eth.getAccounts()\r\n    this.setState({ account: accounts[0] }) \r\n    this.setState({ contract })\r\n    const voyagesCount = await contract.methods.voyagesCount().call()\r\n    this.setState({voyagesCount})\r\n\r\n    for (var i = 1; i <= voyagesCount; i++) {\r\n        var voyage = await contract.methods.voyages(i).call()\r\n        if(voyage.valid == true && voyage.fait == true){\r\n          voyage = this.translate(voyage)\r\n            this.setState({\r\n              voyages: [...this.state.voyages, voyage]\r\n            })\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n  translate(voyage) {\r\n\r\n    //Dates\r\n    const debut = voyage.debutSejour.toString().split('')\r\n    const fin = voyage.finSejour.toString().split('')\r\n    if(debut.length == 8){\r\n      voyage.debutSejour = debut[6].concat(debut[7],'/',debut[4],debut[5],'/',debut[0],debut[1], debut[2],debut[3])\r\n    }\r\n    if(fin.length == 8){\r\n      voyage.finSejour = fin[6].concat(fin[7],'/',fin[4],fin[5],'/',fin[0],fin[1], fin[2],fin[3])\r\n    }\r\n\r\n    //Participants\r\n    var nb = voyage.Participants.toString().split('')\r\n    var l = nb.length\r\n    for (var i = 1; i <= 9 - l; i++) {\r\n      nb = [0].concat(nb)\r\n    }\r\n    voyage.nba = parseInt(nb[6] + nb[7] + nb[8])\r\n    voyage.nbe = parseInt(nb[3] + nb[4] + nb[5])\r\n    voyage.nbb = parseInt(nb[0] + nb[1] + nb[2])\r\n\r\n    //Test Covid\r\n    if(voyage.testCovid == false){\r\n      voyage.testCovid = \"positif\"\r\n    }\r\n    else if(voyage.testCovid == true){\r\n      voyage.testCovid = \"negatif\"\r\n    }\r\n    else{\r\n      voyage.testCovid = \"Non renseigné\"\r\n    }\r\n\r\n    //Accompagnement\r\n    if(voyage.accompagnement == false){\r\n      voyage.accompagnement = \"Non\"\r\n    }\r\n    else if(voyage.accompagnement == true){\r\n      voyage.accompagnement = \"Oui\"\r\n    }\r\n    else{\r\n      voyage.accompagnement = \"Non renseigné\"\r\n    }\r\n\r\n    //fait\r\n    //Accompagnement\r\n    if(voyage.fait == false){\r\n      voyage.fait = \"Non\"\r\n    }\r\n    else if(voyage.fait == true){\r\n      voyage.fait = \"Oui\"\r\n    }\r\n    else{\r\n      voyage.fait = \"Non renseigné\"\r\n    }\r\n\r\n    return(voyage)\r\n  }\r\n\r\n    \r\n\r\nconstructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      account:'',\r\n      voyagesCount: 0,\r\n      voyages: [],\r\n    }\r\n}\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n          <header>\r\n              <NavBar/>\r\n          </header>\r\n\r\n          <div className=\"container\">\r\n           <div className=\"row mt-5 text-center\">\r\n            <div className=\"col-lg-10 mb-4 grid-margin\">\r\n              <div className=\"card h-100\">\r\n                  <h4 className=\"card-header\">All the Diplomas are here below</h4>\r\n                  <div className=\"card-body\">\r\n                    <p className=\"card-text\">Voici la liste des diplomes enregistrés sur la blockchain. </p>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n        </div>    \r\n      </div>\r\n          \r\n            \r\n      <div>\r\n     <table className=\"table\">\r\n      <thead className=\"thead-dark\">\r\n        \r\n    <tr>\r\n    <th scope=\"col\">id</th>\r\n      <th scope=\"col\">debutSejour</th>\r\n      <th scope=\"col\">finSejour</th>\r\n      <th scope=\"col\">Adultes</th>\r\n      <th scope=\"col\">Enfants</th>\r\n      <th scope=\"col\">Bébés</th>\r\n      <th scope=\"col\">pays</th>\r\n      <th scope=\"col\">ville</th>\r\n      <th scope=\"col\">hebergementType</th>\r\n      <th scope=\"col\">accompagnement</th>\r\n      <th scope=\"col\">envies</th>\r\n      <th scope=\"col\">editeur</th>\r\n      <th scope=\"col\">testCovid</th>\r\n      <th scope=\"col\">fait</th>\r\n\r\n    </tr>\r\n\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n    <th scope=\"row\">\r\n          { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              \r\n              <div key={key}>\r\n                <td>\r\n                  {key + 1}\r\n                </td>\r\n              </div>\r\n              \r\n             )\r\n          })}\r\n      </th>\r\n    <th scope=\"row\">\r\n          { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              \r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.debutSejour}\r\n                </td>\r\n              </div>\r\n              \r\n             )\r\n          })}\r\n      </th>\r\n\r\n    <td>\r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              \r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.finSejour}\r\n                </td>\r\n              </div> \r\n              \r\n                 )\r\n        })}\r\n    </td> \r\n\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.nba}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.nbe}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.nbb}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.pays}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.ville}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.hebergementType}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.accompagnement}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.envies}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.editor}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.testCovid}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n    <td> \r\n      { this.state.voyages.map((voyage, key) => {\r\n            return(\r\n              <div key={key}>\r\n                <td>\r\n                  {voyage.fait}\r\n              </td>\r\n            </div> \r\n              \r\n                 )\r\n        })}\r\n    </td>\r\n\r\n\r\n    \r\n      \r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n\r\n    <div className=\"container\">\r\n          <ButtonGroup size=\"lg\" >\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitBack}\r\n                    >Back\r\n                </Button>\r\n                <Button variant=\"light\" \r\n                    onClick={this.onSubmitReload}\r\n                    >Refresh\r\n                </Button>\r\n          </ButtonGroup>\r\n    </div> \r\n                  \r\n  </div>  \r\n      \r\n</div>\r\n    );\r\n  }\r\n\r\n  onSubmitBack(event) {\r\n    event.preventDefault();\r\n    window.history.back()\r\n}\r\n\r\nonSubmitReload(event) {\r\n    event.preventDefault();\r\n    window.location.reload()\r\n}\r\n}\r\n\r\nexport default RenderVoyagesFaits;","C:\\Users\\pierr\\SolEventsAdmin\\SolEvents_Admin\\src\\components\\Actions.js",["162","163","164","165","166","167","168"],"import React, { Component }  from 'react'\r\nimport { createContract } from '../ethereum/SolEvents'\r\nimport { Button, ButtonGroup, Form, Spinner, Modal, ButtonToolbar } from 'react-bootstrap';\r\n//import { web3 } from './../ethereum/web3';\r\nimport NavBar from '../assets/NavBar';\r\nimport { PopupAddAddress } from '../assets/PopupAddAddress';\r\nimport Web3 from 'web3'\r\n\r\n\r\n\r\n\r\nexport class Actions extends Component {\r\n\r\n  \r\n\r\n    state = {\r\n            address: '',\r\n            name: '' ,\r\n            contract: '',\r\n            account:''\r\n    }\r\n\r\n  async componentDidMount () {\r\n\r\n    window.ethereum.enable();\r\n    const web3 = new Web3(Web3.givenProvider)\r\n    const contract = createContract()\r\n    const accounts = await web3.eth.getAccounts()\r\n    this.setState({ account: accounts[0] })\r\n    this.setState({ contract })\r\n  }\r\n  \r\n  \r\n\r\nconstructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      account:'',\r\n      id:''\r\n    }\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n}\r\n\r\n\r\nasync isDone(id) {\r\n  if(await this.state.contract.methods.isOwner(this.state.account).call() == true){\r\n    this.state.contract.methods.isDone(id).send({ from: this.state.account })\r\n  }\r\n  else{\r\n    //TODO Remplacer par une pop up\r\n    console.log(\"T'as pas les droits \")\r\n  }\r\n}\r\n\r\nasync dlVoyage(id) {\r\n  if(await this.state.contract.methods.isOwner(this.state.account).call() == true){\r\n    this.state.contract.methods.deleteVoyage(id).send({ from: this.state.account })\r\n  }\r\n  else{\r\n    //TODO Remplacer par une pop up\r\n    console.log(\"T'as pas les droits \")\r\n  }\r\n}\r\n\r\n\r\n    onChange(event) {\r\n    \r\n    const target = event.target;\r\n    const value =  target.value;\r\n    const name = target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n}\r\n\r\n\r\n    onSubmit(event) {\r\n      const value = event.target.value;\r\n      event.preventDefault();\r\n      if(value == \"fait\"){\r\n        this.isDone(this.state.id)\r\n      }\r\n      if(value == \"dl\"){\r\n        this.dlVoyage(this.state.id)\r\n      }\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n            <NavBar/>\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <div className=\"row mt-5 text-center center\">\r\n            <div className=\"col-lg-10 mb-4 grid-margin\">\r\n              <div className=\"card h-100\">\r\n                  <h4 className=\"card-header\">Actions</h4>\r\n                  <div className=\"card-body\">\r\n                    <p className=\"card-text\">Liens:  </p>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n        </div>    \r\n      </div>\r\n\r\n\r\n        <Form>\r\n            <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Label>Id du voyage</Form.Label>\r\n                <Form.Control \r\n                    placeholder='Id du voyage'\r\n                    name=\"id\"\r\n                    type=\"number\"\r\n                    onChange={this.onChange} />\r\n            </Form.Group>\r\n\r\n\r\n        </Form>\r\n      \r\n        <div>\r\n        \r\n      <ButtonToolbar>\r\n        <Button value=\"fait\" variant=\"warning\" \r\n          onClick={this.onSubmit}\r\n          >Marquer comme fait\r\n        </Button>\r\n        <Button value=\"dl\" variant=\"danger\" \r\n          onClick={this.onSubmit}\r\n          >Suprimer\r\n        </Button>\r\n\r\n       \r\n      </ButtonToolbar> \r\n\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <div className=\"row mt-5\">\r\n            <div className=\"col-lg-4 mb-4 grid-margin\">\r\n          <ButtonGroup size=\"lg\" >\r\n                <Button variant=\"primary\" \r\n                    onClick={this.onSubmitBack}\r\n                    >Back\r\n                </Button>\r\n                <Button variant=\"light\" \r\n                    onClick={this.onSubmitReload}\r\n                    >Refresh\r\n                </Button>\r\n          </ButtonGroup>\r\n        </div>\r\n      </div>\r\n    </div> \r\n            \r\n      </div>\r\n    );\r\n  }\r\n\r\n  onSubmitBack(event) {\r\n    event.preventDefault();\r\n    window.history.back()\r\n    }\r\n\r\n  onSubmitReload(event) {\r\n    event.preventDefault();\r\n    window.location.reload()\r\n    }\r\n}\r\n\r\nexport default Actions;",{"ruleId":"169","replacedBy":"170"},{"ruleId":"171","replacedBy":"172"},{"ruleId":"173","severity":1,"message":"174","line":4,"column":8,"nodeType":"175","messageId":"176","endLine":4,"endColumn":14},{"ruleId":"173","severity":1,"message":"177","line":5,"column":8,"nodeType":"175","messageId":"176","endLine":5,"endColumn":13},{"ruleId":"173","severity":1,"message":"178","line":7,"column":18,"nodeType":"175","messageId":"176","endLine":7,"endColumn":24},{"ruleId":"179","severity":1,"message":"180","line":8,"column":9,"nodeType":"181","endLine":8,"endColumn":65},{"ruleId":"179","severity":1,"message":"180","line":13,"column":33,"nodeType":"181","endLine":13,"endColumn":67},{"ruleId":"179","severity":1,"message":"180","line":14,"column":33,"nodeType":"181","endLine":14,"endColumn":67},{"ruleId":"179","severity":1,"message":"180","line":15,"column":33,"nodeType":"181","endLine":15,"endColumn":67},{"ruleId":"179","severity":1,"message":"180","line":17,"column":9,"nodeType":"181","endLine":17,"endColumn":61},{"ruleId":"169","replacedBy":"182"},{"ruleId":"171","replacedBy":"183"},{"ruleId":"173","severity":1,"message":"184","line":2,"column":23,"nodeType":"175","messageId":"176","endLine":2,"endColumn":34},{"ruleId":"173","severity":1,"message":"185","line":2,"column":43,"nodeType":"175","messageId":"176","endLine":2,"endColumn":54},{"ruleId":"173","severity":1,"message":"186","line":2,"column":56,"nodeType":"175","messageId":"176","endLine":2,"endColumn":62},{"ruleId":"173","severity":1,"message":"187","line":2,"column":64,"nodeType":"175","messageId":"176","endLine":2,"endColumn":74},{"ruleId":"173","severity":1,"message":"188","line":2,"column":76,"nodeType":"175","messageId":"176","endLine":2,"endColumn":80},{"ruleId":"173","severity":1,"message":"189","line":2,"column":10,"nodeType":"175","messageId":"176","endLine":2,"endColumn":16},{"ruleId":"173","severity":1,"message":"190","line":2,"column":18,"nodeType":"175","messageId":"176","endLine":2,"endColumn":21},{"ruleId":"173","severity":1,"message":"184","line":2,"column":23,"nodeType":"175","messageId":"176","endLine":2,"endColumn":34},{"ruleId":"173","severity":1,"message":"191","line":2,"column":36,"nodeType":"175","messageId":"176","endLine":2,"endColumn":40},{"ruleId":"173","severity":1,"message":"185","line":2,"column":43,"nodeType":"175","messageId":"176","endLine":2,"endColumn":54},{"ruleId":"173","severity":1,"message":"187","line":2,"column":64,"nodeType":"175","messageId":"176","endLine":2,"endColumn":74},{"ruleId":"173","severity":1,"message":"192","line":3,"column":37,"nodeType":"175","messageId":"176","endLine":3,"endColumn":44},{"ruleId":"173","severity":1,"message":"193","line":3,"column":46,"nodeType":"175","messageId":"176","endLine":3,"endColumn":51},{"ruleId":"173","severity":1,"message":"194","line":6,"column":10,"nodeType":"175","messageId":"176","endLine":6,"endColumn":25},{"ruleId":"195","severity":1,"message":"196","line":54,"column":75,"nodeType":"197","messageId":"198","endLine":54,"endColumn":77},{"ruleId":"195","severity":1,"message":"196","line":64,"column":75,"nodeType":"197","messageId":"198","endLine":64,"endColumn":77},{"ruleId":"195","severity":1,"message":"196","line":90,"column":16,"nodeType":"197","messageId":"198","endLine":90,"endColumn":18},{"ruleId":"195","severity":1,"message":"196","line":94,"column":16,"nodeType":"197","messageId":"198","endLine":94,"endColumn":18},{"ruleId":"195","severity":1,"message":"196","line":36,"column":17,"nodeType":"197","messageId":"198","endLine":36,"endColumn":19},{"ruleId":"199","severity":1,"message":"200","line":6,"column":5,"nodeType":"201","messageId":"202","endLine":8,"endColumn":6},{"ruleId":"173","severity":1,"message":"203","line":3,"column":10,"nodeType":"175","messageId":"176","endLine":3,"endColumn":14},{"ruleId":"199","severity":1,"message":"200","line":6,"column":5,"nodeType":"201","messageId":"202","endLine":8,"endColumn":6},{"ruleId":"195","severity":1,"message":"196","line":31,"column":30,"nodeType":"197","messageId":"198","endLine":31,"endColumn":32},{"ruleId":"195","severity":1,"message":"196","line":37,"column":25,"nodeType":"197","messageId":"198","endLine":37,"endColumn":27},{"ruleId":"195","severity":1,"message":"196","line":37,"column":48,"nodeType":"197","messageId":"198","endLine":37,"endColumn":50},{"ruleId":"195","severity":1,"message":"196","line":51,"column":21,"nodeType":"197","messageId":"198","endLine":51,"endColumn":23},{"ruleId":"195","severity":1,"message":"196","line":54,"column":19,"nodeType":"197","messageId":"198","endLine":54,"endColumn":21},{"ruleId":"195","severity":1,"message":"196","line":69,"column":25,"nodeType":"197","messageId":"198","endLine":69,"endColumn":27},{"ruleId":"195","severity":1,"message":"196","line":72,"column":30,"nodeType":"197","messageId":"198","endLine":72,"endColumn":32},{"ruleId":"195","severity":1,"message":"196","line":80,"column":30,"nodeType":"197","messageId":"198","endLine":80,"endColumn":32},{"ruleId":"195","severity":1,"message":"196","line":83,"column":35,"nodeType":"197","messageId":"198","endLine":83,"endColumn":37},{"ruleId":"195","severity":1,"message":"196","line":92,"column":20,"nodeType":"197","messageId":"198","endLine":92,"endColumn":22},{"ruleId":"195","severity":1,"message":"196","line":95,"column":25,"nodeType":"197","messageId":"198","endLine":95,"endColumn":27},{"ruleId":"195","severity":1,"message":"196","line":215,"column":75,"nodeType":"197","messageId":"198","endLine":215,"endColumn":77},{"ruleId":"195","severity":1,"message":"196","line":234,"column":13,"nodeType":"197","messageId":"198","endLine":234,"endColumn":15},{"ruleId":"195","severity":1,"message":"196","line":234,"column":36,"nodeType":"197","messageId":"198","endLine":234,"endColumn":38},{"ruleId":"173","severity":1,"message":"204","line":249,"column":7,"nodeType":"175","messageId":"176","endLine":249,"endColumn":12},{"ruleId":"199","severity":1,"message":"200","line":6,"column":5,"nodeType":"201","messageId":"202","endLine":8,"endColumn":6},{"ruleId":"195","severity":1,"message":"196","line":26,"column":25,"nodeType":"197","messageId":"198","endLine":26,"endColumn":27},{"ruleId":"195","severity":1,"message":"196","line":26,"column":48,"nodeType":"197","messageId":"198","endLine":26,"endColumn":50},{"ruleId":"195","severity":1,"message":"196","line":41,"column":21,"nodeType":"197","messageId":"198","endLine":41,"endColumn":23},{"ruleId":"195","severity":1,"message":"196","line":44,"column":19,"nodeType":"197","messageId":"198","endLine":44,"endColumn":21},{"ruleId":"195","severity":1,"message":"196","line":59,"column":25,"nodeType":"197","messageId":"198","endLine":59,"endColumn":27},{"ruleId":"195","severity":1,"message":"196","line":62,"column":30,"nodeType":"197","messageId":"198","endLine":62,"endColumn":32},{"ruleId":"195","severity":1,"message":"196","line":70,"column":30,"nodeType":"197","messageId":"198","endLine":70,"endColumn":32},{"ruleId":"195","severity":1,"message":"196","line":73,"column":35,"nodeType":"197","messageId":"198","endLine":73,"endColumn":37},{"ruleId":"195","severity":1,"message":"196","line":82,"column":20,"nodeType":"197","messageId":"198","endLine":82,"endColumn":22},{"ruleId":"195","severity":1,"message":"196","line":85,"column":25,"nodeType":"197","messageId":"198","endLine":85,"endColumn":27},{"ruleId":"173","severity":1,"message":"192","line":3,"column":37,"nodeType":"175","messageId":"176","endLine":3,"endColumn":44},{"ruleId":"173","severity":1,"message":"193","line":3,"column":46,"nodeType":"175","messageId":"176","endLine":3,"endColumn":51},{"ruleId":"173","severity":1,"message":"194","line":6,"column":10,"nodeType":"175","messageId":"176","endLine":6,"endColumn":25},{"ruleId":"195","severity":1,"message":"196","line":47,"column":75,"nodeType":"197","messageId":"198","endLine":47,"endColumn":77},{"ruleId":"195","severity":1,"message":"196","line":57,"column":75,"nodeType":"197","messageId":"198","endLine":57,"endColumn":77},{"ruleId":"195","severity":1,"message":"196","line":81,"column":16,"nodeType":"197","messageId":"198","endLine":81,"endColumn":18},{"ruleId":"195","severity":1,"message":"196","line":84,"column":16,"nodeType":"197","messageId":"198","endLine":84,"endColumn":18},"no-native-reassign",["205"],"no-negated-in-lhs",["206"],"no-unused-vars","'NavBar' is defined but never used.","Identifier","unusedVar","'Table' is defined but never used.","'Switch' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["205"],["206"],"'NavDropdown' is defined but never used.","'FormControl' is defined but never used.","'Button' is defined but never used.","'InputGroup' is defined but never used.","'Card' is defined but never used.","'Navbar' is defined but never used.","'Nav' is defined but never used.","'Form' is defined but never used.","'Spinner' is defined but never used.","'Modal' is defined but never used.","'PopupAddAddress' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'Home' is defined but never used.","'value' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]